\documentclass[12pt]{exam}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{amsthm}
\usepackage{tikz}
\usepackage{mathtools}
\usepackage{graphicx}
\usepackage{wrapfig}
\usepackage{mathrsfs}

\usepackage{bm} %bold symbols
\usepackage{hyperref} %add links

%%%%%%%%%%%%%%%%%%%%%%%%%
% 	Define vars here 	%
%%%%%%%%%%%%%%%%%%%%%%%%%

\def\hwName{Homework 11 Part B}
\author{Zhengyu James Pan} %use like \@author
\def\instructor{Dr. Paul Kessenich}
\def\email{jzpan@umich.edu}
\def\dueDate{SUNDAY, April 21}

\newcommand{\reals}{\mathbb{R}}
\newcommand{\realsn}{\reals^{n}}
\newcommand{\nxn}{n\times n}
\newcommand{\realsnxn}{\reals^{\nxn}}
\newcommand{\naturals}{\mathbb{N}}
\newcommand{\ints}{\mathbb{Z}}
\newcommand{\transpose}{^\top}

\makeatletter

\begin{document}
%Header
\pagestyle{head}
\firstpageheader{}{}{}
\header{MATH 217}{\hwName}{\thepage}

%Solution formatting
\printanswers
\unframedsolutions

%Top matter
{\parindent0in
\bf
\begin{center}
	MATH 217 W24 - LINEAR ALGEBRA, Section 001 ({\instructor}) \\
	{\hwName} due {\dueDate} at 11:59pm \\
	\@author\ (\href{mailto:\email}{\email})
\end{center}
}

%1
\begin{questions}
\question 
	\begin{parts}
		\part Let $E_0$ denote the 0-eigenspace of $T$. Explicitly describe $E_0$ (as a set).
            \begin{solution}
                \[ E_0 = \left\{ (x_1, 0, x_2, 0, x_3, 0, ...) \mid x_i \in \reals \right\} \]
            \end{solution}
        \part Prove that every real number $\lambda$ is an eigenvalue of $T$. (Hint: explicitly construct an eigenvector $(x_1, x_2, x_3, . . . ) \in V$ . First consider $x_i$ when $i$ is a power of 2.)
            \begin{solution}
                Let $\lambda \in \reals$. Then let \[ s = (1,\  \lambda, \lambda,\  \lambda^2, \lambda^2, \lambda^2, \lambda^2,\  \lambda^3, \lambda^3, \lambda^3, \lambda^3, \lambda^3, \lambda^3, \lambda^3, \lambda^3,\  ...) \]
                be an infinite sequence such that each consecutive power $\lambda^n$ is repeated $n$ times in the sequence, starting from $n=0$. Then
                \begin{align*}
                    T(s) &= (\lambda,\ \lambda^2, \lambda^2,\ \lambda^3, \lambda^3, \lambda^3, \lambda^3, \ \lambda^4, \lambda^4, \lambda^4, \lambda^4, \lambda^4, \lambda^4, \lambda^4, \lambda^4, ...  )\\
                    &= \lambda(s).
                \end{align*}
                So any real number is an eigenvalue of $T$.
            \end{solution}
	\end{parts}

%2
\question 
    \begin{parts}
        \part Let $\mathscr{D}$ be a diagonal $\nxn$ matrix with distinct entries along the diagonal, and let $\mathscr D$ be the subset of $\realsnxn$ consisting of all diagonal matrices. Prove $\mathscr C (D) = \mathscr D$.
            \begin{solution}
                Let the diagonal entries of $D$ be $d_1, ..., d_n$. Let $A \in \mathscr D$, with diagonal entries $a_1, ... a_n$. Then the product \[AD = \begin{bmatrix}
                    a_1 d_1 & 0 & \dots & 0\\
                    0 & a_2 d_2 & 0 & \vdots \\
                    \vdots & 0 & \ddots & 0  \\
                    0 & \dots & 0 & a_n d_n
                \end{bmatrix} = \begin{bmatrix}
                    d_1 a_1 & 0 & \dots & 0\\
                    0 & d_2 a_2 & 0 & \vdots \\
                    \vdots & 0 & \ddots & 0  \\
                    0 & \dots & 0 & d_n a_n
                \end{bmatrix} = DA. \]
                So $\mathscr D \subset \mathscr C (D)$. \\
                \par Let $B \in \mathscr C(D)$ with columns $\vec b_1, ..., \vec b_n$, rows $\vec c_1, ..., \vec c_n$, and element of $i$th row and $j$th column $b_{ij}$. Then
                    \begin{align*}
                        BD &= \begin{bmatrix}
                            \mid &  & \mid \\
                            B (d_1 \vec e_1) & \cdots & B (d_n \vec e_n) \\
                            \mid &  & \mid
                        \end{bmatrix} \\
                        &= \begin{bmatrix}
                            \mid &  & \mid \\
                            d_1 \vec b_1  & \cdots & d_n \vec b_n \\
                            \mid &  & \mid
                        \end{bmatrix} \\\\
                        DB &=\left((DB)\transpose\right)\transpose \\
                        &= \left(B\transpose D\right)\transpose \\
                        &= \begin{bmatrix}
                            \mid &  & \mid \\
                            d_1 \vec c_1\transpose  & \cdots & d_n \vec c_n\transpose \\
                            \mid &  & \mid
                        \end{bmatrix}\transpose \\
                        &= \begin{bmatrix}
                            \rule[3pt]{0.45cm}{0.5pt} & d_1 \vec c_1 & \rule[3pt]{0.45cm}{0.5pt} \\
                             & \vdots & \\
                            \rule[3pt]{0.45cm}{0.5pt} & d_n \vec c_n & \rule[3pt]{0.45cm}{0.5pt}
                        \end{bmatrix}
                    \end{align*}
                where $\vec e_i$ is the $i$th standard basis vector. Since $B \in \mathscr C(D), BD = DB$. Considering arbitrary $b_{ij}$, this means that $d_i b_{ij} = d_j b_{ij}$. 
                \par When $i=j$, then $d_i = d_j$, so $b_{ij}$, a diagonal element of $B$, can be anything.
                \par When $i \neq j$, then $d_i \neq d_j$ since $D$ has distinct diagonal elements. But $d_i b_{ij} = d_j b_{ij}$. So $b_ij = 0$. Note that in this case, $b_ij$ is any non-diagonal element.
                Since only diagonal elements of $B$ can be nonzero, $B$ is diagonal, and $B \in \mathscr D$. So $\mathscr C(D) \subset \mathscr D$.
                \par Thus $\mathscr D = \mathscr C(D).$ 
            \end{solution}
        \part Prove that if $A$ and $B$ are simultaneously diagonalizable $\nxn$ matrices, then $B \in \mathscr C (A)$. 
            \begin{solution}
                We know that $\mathscr D \subset \mathscr C(D)$ for any diagonal matrix $D$ by part (a). (The $\mathscr D \subset \mathscr C (D)$ direction did not depend on the fact that $D$ had distinct diagonal elements.) So then
                \begin{align*}
                    S^{-1} B S S^{-1} A S &= S^{-1} A S S^{-1} B S \\
                    S^{-1} B A S &= S^{-1} A B S \\
                    B A &= A B
                \end{align*}
                Thus $B \in \mathscr C(A)$.
            \end{solution}
        \part Prove that if $A$ and $B$ are $\nxn$ matrices such that $A$ has $n$ distinct eigenvalues and $B \in \mathscr C (A)$, then $A$ and $B$ are simultaneously diagonalizable.
            \begin{solution}
                Let $S$ be an eigenbasis of $A$. Then $S^{-1} A S$, the diagonalized matrix of $A$, has distinct diagonal elements. We know that 
                \begin{align*}
                    B A &= A B \\
                    S^{-1} B A S &= S^{-1} A B S \\
                    S^{-1} B S S^{-1} A S &= S^{-1} A S S^{-1} B S
                \end{align*}
                So $S^{-1} B S \in \mathscr C(S^{-1} A S)$. Then by part (a), since $S^{-1} A S$ is diagonal with distinct entries, $S^{-1} B S$ is diagonal. So $S$ diagonalizes both $B$ and $A$. So $A$ and $B$ are simultaneously diagonalizable.
            \end{solution}
    \end{parts}

\question \begin{parts}
    \part Suppose that $A$ has eigenvalue 0 but is not diagonalizable. Prove that im($A) = E_0$, and conclude from this that $A^2 = 0$.
        \begin{solution}
            The givens imply that det($A - 0I_1) = 0$. So det($A) = 0$. But since it is not diagonalizable, there must be one eigenvalue $\lambda$ of $A$ which does not satisfy almu($\lambda) = $ gemu($\lambda$). Since both almu and gemu are always at least 1, almu $\geq$ gemu, and the sum of almus = $n$; we know almu(0) = 2, and gemu(0) = 1. From this, we infer that the nullity is 1, and the rank is also 1.  The almu also implies that the characteristic equation of $A$ is $x^2 = 0$. \\
            Let $A = \begin{bmatrix*} a & b \\ c & d \end{bmatrix*}.$ Since \begin{align*}
                \text{det}(A - 0I_1) &= (a - x)(c - x) - bd \\
                &= ac - bd - (a + c)x + x^2
            \end{align*} 
            and the characteristic polynomial has no $x$ terms, we know that $a + c = 0$, or equivalently that $a = -c$. Additionally, $ac = bd$.
            \par We know that $A$ does not have linearly independent columns, so the columns must be scalar multiples of each other. 
        \end{solution}
    \part Let $\lambda \in \reals$ and suppose that $A$ has eigenvalue $\lambda$ but is not diagonalizable. Prove that we have $(A - \lambda I_2)^2$ = 0, and deduce from this that $A \vec v - \lambda \vec v \in E_\lambda$ for every $\vec v \in \reals^2$.
    [Hint: apply part (a) to the matrix $A - \lambda I_2$].
\end{parts}
\end{questions}

\end{document}